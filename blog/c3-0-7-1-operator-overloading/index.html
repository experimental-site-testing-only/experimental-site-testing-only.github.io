<!DOCTYPE html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width"><meta name="description" content="C3 is a programming language that builds on the syntax and semantics of the C language, with the goal of evolving it while still retaining familiarity for C programmers."><meta name="og:title" content="C3"><meta name="og:description" content="C3 is a programming language that builds on the syntax and semantics of the C language, with the goal of evolving it while still retaining familiarity for C programmers."><meta content="/logo.svg" property="og:image"><meta content="#4355ec" data-react-helmet="true" name="theme-color"><meta name="og:image" content="/logo.svg"><link rel="icon" href="/ico.svg" type="image/x-icon"><title>C3 | Blog | An evolution, not a revolution</title><link rel="stylesheet" href="/_astro/blog.CnsQFCnv.css">
<link rel="stylesheet" href="/_astro/index.CLxMlQ5a.css"><script type="module" src="/_astro/page.7qqag-5g.js"></script></head> <body class="dark:bg-stone-950 bg-white"> <div style="height: auto"> <script>

	// get theme preference from local storage
	let theme = localStorage.getItem("starlight-theme");
	
	// Set existing preference of light, from previous page load
	if (theme === "light") 
	{
		document.documentElement.classList.remove("dark");
		document.documentElement.setAttribute("data-theme", "light");
	}
	// Set existing preference of dark, from previous page load
	else if (theme === "dark") 
	{
		document.documentElement.classList.add("dark");
		document.documentElement.setAttribute("data-theme", "dark");
	}
	// default to light mode if no value in local storage
	else
	{
		document.documentElement.setAttribute("data-theme", "light");
	}
	

	function toggleDarkMode() {
		// get theme preference from local storage
		let theme = localStorage.getItem("starlight-theme")

		// Switch existing preference from light to dark
		if (theme === "light") 
		{
			localStorage.setItem("starlight-theme", "dark");
			document.documentElement.classList.add("dark");
			document.documentElement.setAttribute("data-theme", "dark");
		}
		// Switch existing preference from dark to light
		else if (theme === "dark") 
		{
			localStorage.setItem("starlight-theme", "light");
			document.documentElement.classList.remove("dark");
			document.documentElement.setAttribute("data-theme", "light");
		}
		// no local storage preference, but browser prefer dark, add dark class to root html element
		else if (window.matchMedia("(prefers-color-scheme: dark)").matches) 
		{
			localStorage.setItem("starlight-theme", "dark");
			document.documentElement.classList.add("dark");
			document.documentElement.setAttribute("data-theme", "dark");
		}
		// No local storage or browser preference, add dark class to root html element
		else 
		{
			localStorage.setItem("starlight-theme", "dark");
			document.documentElement.classList.add("dark");
			document.documentElement.setAttribute("data-theme", "dark");
		}	
	}
	

	
	// is the moreDropdown menu open
	let isMoreDropdownOpen = false;
	
	document.addEventListener("mousedown", (event) => {
		moreDropdownHandleClickInner(event);
	})
	
	
	function moreDropdownHandleClickInner(event) {
		
		const dropdownParent = document.getElementById("more-dropdown-parent")
		const dropdown = document.getElementById("more-dropdown")
		
		// We clicked on the menu
		if (dropdownParent.contains(event.target)) {
			
			// if menu is open and we clicked to close it
			if (isMoreDropdownOpen) {
				isMoreDropdownOpen = false
				
				setTimeout(
					function() {
						dropdown.classList.add("hidden");
					}, 
					200,
				);
				return;
			}
			
			// Opening the menu
			isMoreDropdownOpen = true;
			
			setTimeout(
				function() {
					dropdown.classList.remove("hidden");
				}, 
				200,
			);
		
		}
		// We clicked off the menu, close the menu
		else
		{
			// Closing the menu
			isMoreDropdownOpen = false;
			
			setTimeout(
				function() {
					dropdown.classList.add("hidden");
				}, 
				200,
			);
	
		}	
	}
	
	
	
	// is the mobileMenu open
	let isMobileMenuOpen = false;
	
	document.addEventListener("mousedown", (event) => {
		mobileMenuHandleClickInner(event);
	})
	
	function mobileMenuHandleClickInner(event) {
		
		const dropdownParent = document.getElementById("mobile-menu-parent")
		const dropdown = document.getElementById("mobile-menu")
		const iconOpenMenu = document.getElementById("icon-open-mobile-menu")
		const iconCloseMenu = document.getElementById("icon-close-mobile-menu")
		
		
		// We clicked on the menu
		if (dropdownParent.contains(event.target)) {
			
			// if menu is open and we clicked to close it
			if (isMobileMenuOpen) {
				isMobileMenuOpen = false
				
				dropdown.classList.add("hidden");
				iconOpenMenu.classList.remove("hidden");
				iconCloseMenu.classList.add("hidden");
				
				return;
			}
			
			// Opening the menu
			isMobileMenuOpen = true;
			
			dropdown.classList.remove("hidden");
			iconOpenMenu.classList.add("hidden");
			iconCloseMenu.classList.remove("hidden");
		}	
	}	
	
</script> <header class="
	flex 
	flex-wrap 
	sm:justify-start 
	sm:flex-nowrap 
	z-50 
	w-full 
	border-b 
	border-gray-200
	text-sm 
	py-3 
	sm:py-0 
	dark:border-stone-700
	"> <nav class="
		relative 
		max-w-7xl 
		w-full 
		mx-auto 
		px-4 
		sm:flex 
		sm:items-center 
		sm:justify-between 
		sm:px-6 
		lg:px-8
		" aria-label="Global"> <div class="
			flex 
			items-center 
			justify-between
			"> <a class="
				text-blue-600
				dark:text-blue-500
				flex-none 
				text-xl 
				font-semibold 
				" href="/" aria-label="Brand">
C3
</a> <div class="sm:hidden" id="mobile-menu-parent"> <!-- Mobile topMenu toggle --> <button class="
					hs-collapse-toggle 
					p-2 
					inline-flex 
					justify-center 
					items-center 
					gap-2 
					rounded-md border 
					font-medium 
					bg-white 
					text-stone-700 
					shadow-sm 
					align-middle 
					hover:bg-gray-50 
					focus:outline-none 
					focus:ring-2 
					focus:ring-offset-2 
					focus:ring-offset-white 
					focus:ring-blue-600 
					transition-all 
					text-sm 
					dark:bg-slate-900 
					dark:hover:bg-slate-800 
					dark:border-stone-700 
					dark:text-gray-400 
					dark:hover:text-white 
					dark:focus:ring-offset-stone-950" type="button" aria-controls="mobile-menu" aria-label="Toggle navigation"> <!-- Icon openMobileMenu --> <svg class="
						opacity-100
						w-4 
						h-4
						" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" id="icon-open-mobile-menu"> <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"></path> </svg> <!-- Icon closeMobileMenu --> <svg class="
						hidden 
						w-4 
						h-4
						" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" id="icon-close-mobile-menu"> <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path> </svg> </button> </div> </div> <!-- mobile menu --> <div class="
			hidden 
			sm:block
			overflow-hidden 
			
			transition-all 
			duration-1000 
			ease-linear
			
			basis-full 
			grow 
			" id="mobile-menu"> <div class="
				flex 
				flex-col 
				gap-y-4 
				gap-x-0 
				mt-5 
				sm:flex-row 
				sm:items-center 
				sm:justify-end 
				sm:gap-y-0 
				sm:gap-x-7 
				sm:mt-0 
				sm:pl-7"> <a class="font-medium text-gray-500 hover:text-blue-500 sm:py-6 dark:text-gray-400 dark:hover:text-blue-500" href="/getting-started/">Docs</a> <a class="font-medium text-gray-500 hover:text-blue-500 sm:py-6 dark:text-gray-400 dark:hover:text-blue-500" href="/language-overview/examples">Examples</a> <a class="font-medium text-gray-500 hover:text-blue-500 sm:py-6 dark:text-gray-400 dark:hover:text-blue-500" href="/getting-started/prebuilt-binaries">Download</a> <a class="font-medium text-gray-500 hover:text-blue-500 sm:py-6 dark:text-gray-400 dark:hover:text-blue-500" href="https://discord.gg/qN76R87">
Discord
</a> <a class="font-medium text-gray-500 hover:text-blue-500 sm:py-6 dark:text-gray-400 dark:hover:text-blue-500" href="/blog">
Blog
</a> <div class="
					hs-dropdown [--strategy:static] 
					sm:[--strategy:fixed] 
					[--adaptive:none] 
					sm:[--trigger:hover] 
					sm:py-4
					"> <!-- Desktop toggle More dropdown menu --> <button id="more-dropdown-parent" type="button" class="flex items-center w-full text-stone-600 hover:text-blue-500 font-medium dark:text-gray-400 dark:hover:text-blue-500">
More
<svg class="ml-2 w-2.5 h-2.5 text-stone-600" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M2 5L8.16086 10.6869C8.35239 10.8637 8.64761 10.8637 8.83914 10.6869L15 5" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path> </svg> </button> <!-- Desktop More dropdown menu --> <div id="more-dropdown" class="
						hidden
						absolute
						top-full 
						sm:right-[4rem]
						z-10
						sm:w-52 
						bg-white
						rounded-lg
						sm:border 
						sm:dark:border
						border-gray-200
						shadow-md
						dark:bg-stone-950 
						dark:border-stone-700 
						sm:mt-1
						mt-[-1.5rem]
						p-2			
						"> <a class="flex items-center gap-x-3.5 py-2 px-3 rounded-md font-medium text-stone-600 hover:text-white hover:bg-blue-600 focus:ring-2 focus:ring-blue-500 dark:text-gray-400 dark:hover:bg-blue-700 dark:hover:text-gray-100" href="https://github.com/c3lang/c3c">
Github
</a> <a class="flex items-center gap-x-3.5 py-2 px-3 rounded-md font-medium text-stone-600 hover:text-white hover:bg-blue-600 focus:ring-2 focus:ring-blue-500 dark:text-gray-400 dark:hover:bg-blue-700 dark:hover:text-gray-100" href="https://github.com/sponsors/c3lang">
Support us
</a> </div> </div> <!-- Enable dark mode, from light mode --> <a class="
					group
					flex 
					items-center 
					text-gray-600 
					hover:text-blue-600 
					font-medium 
					dark:hidden
					dark:text-gray-400 
					dark:hover:text-gray-500
					" href="#!" onclick="toggleDarkMode()"> <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"> <path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278zM4.858 1.311A7.269 7.269 0 0 0 1.025 7.71c0 4.02 3.279 7.276 7.319 7.276a7.316 7.316 0 0 0 5.205-2.162c-.337.042-.68.063-1.029.063-4.61 0-8.343-3.714-8.343-8.29 0-1.167.242-2.278.681-3.286z"></path> </svg> </a> <!-- Enable light mode from dark mode --> <a class="
					hidden 
					dark:flex
					group 
					items-center 
					text-gray-600 
					hover:text-blue-600 
					font-medium 
					dark:text-gray-400 
					dark:hover:text-gray-500
					" href="#!" onclick="toggleDarkMode()"> <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"> <path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path> </svg> </a> </div> </div> </nav> </header> <div> <div class="
				max-w-[38rem]
				
				lg:grid
				xl:grid-cols-[1.5fr_40rem_1.5fr]
				xl:max-w-[calc(20rem+40rem+20rem)]
				lg:grid-cols-[40rem_1.5fr]
				lg:max-w-[calc(40rem+20rem)]
				mx-auto
			"> <!-- Empty content for symmetry and centering of main content --> <div class="hidden xl:block"></div> <!-- Main content --> <div class="
					px-4 
					sm:px-6 
					lg:px-8 
					lg:pt-24 
					pt-8
					pb-8
					"> <div class="mt-5 mx-auto"> <h1 class="
							block 
							font-bold 
							text-gray-800 
							text-5xl 
							lg:text-6xl 
							lg:leading-tight 
							dark:text-white
							text-justify
							mb-8
							sm:mb-18
							"> <a href="/blog">
The
<span class="
									bg-clip-text 
									bg-gradient-to-l 
									from-violet-600 
									to-blue-600 
									text-transparent">
C3
</span>
Blog
</a> </h1> <!-- Show only current blogpost --> <!-- Using CSS variables from global styles, since those change with dark mode --><div class="
	lg:my-20
	 astro-izoogwj6"> <h2 class="
		text-3xl 
		lg:text-4xl 
		font-bold 
		dark:text-white
		mb-2
		text-justify
	 astro-izoogwj6"> C3 0.7.1 - Operator Overloading </h2> <p class="
		text-md
		lg:text-l 
		text-gray-800 
		dark:text-white
		mb-12
		sm:mb-16
		text-justify
	 astro-izoogwj6"> 2025-04-30 </p> <div class="
		text-justify
		 astro-izoogwj6" id="child_slots">  <p>0.7.0 was supposed to be THE big change this year, but 0.7.1 is actually quitely introducing some very important features.</p>
<h3 id="operator-overloading">Operator overloading</h3>
<p>Operator overloading has been added to help games and maths programming, a <a href="https://c3.handmade.network/blog/p/9019-c3_goes_game_and_maths_friendly_with_operator_overloading">previous blog goes into more depth</a>, below is a short overview.</p>
<h4 id="operator-overloading-overview">Operator overloading overview</h4>
<p>The <code dir="auto">@operator</code> attribute defines the overload for <code dir="auto">Vec + int</code></p>
<p>To define something like <code dir="auto">int + Vec</code> there are two additional attributes added:</p>
<ul>
<li><code dir="auto">@operator_s</code> (“symmetric operator”) allows either type to go first.</li>
<li><code dir="auto">@operator_r</code> (“reverse operator”) requires the second term to be the first one in the arithmetic expression.</li>
</ul>
<h4 id="examples">Examples</h4>
<p>Overloading with the <code dir="auto">@operator</code> overload attribute:</p>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.v4551.css"><script type="module" src="/_astro/ec.8zarh.js"></script><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="c3"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5D6376">// Defining a simple add: "Complex + Complex"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">macro Complex </span><span style="--0:#C5E478;--1:#3B61B0">Complex</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3B61B0">add</span><span style="--0:#D6DEEB;--1:#403F53">(self, Complex b) @operator(</span><span style="--0:#C792EA;--1:#8844AE">+</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> { .v </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">self</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#7FDBCA;--1:#096E72">v</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">+</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">b</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#7FDBCA;--1:#096E72">v</span><span style="--0:#D6DEEB;--1:#403F53"> };</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5D6376">// Define the self-modifying +=: "Complex += Complex"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">macro Complex </span><span style="--0:#C5E478;--1:#3B61B0">Complex</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3B61B0">add_this</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C792EA;--1:#8844AE">&#x26;</span><span style="--0:#D6DEEB;--1:#403F53">self, Complex b) @operator(</span><span style="--0:#C792EA;--1:#8844AE">+=</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> { .v </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">self</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#7FDBCA;--1:#096E72">v</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">+=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">b</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#7FDBCA;--1:#096E72">v</span><span style="--0:#D6DEEB;--1:#403F53"> };</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="// Defining a simple add: &#x22;Complex + Complex&#x22;macro Complex Complex.add(self, Complex b) @operator(+){    return { .v = self.v + b.v };}// Define the self-modifying +=: &#x22;Complex += Complex&#x22;macro Complex Complex.add_this(&#x26;self, Complex b) @operator(+=){    return { .v = self.v += b.v };}"><div></div></button></div></figure></div>
<p>Overloading with the <code dir="auto">@operator_s</code> symmetric overload attribute:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="c3"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5D6376">// This defines "Quaternion * Real" /and/ "Real * Quaternion"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">macro Quaternion </span><span style="--0:#C5E478;--1:#3B61B0">Quaternion</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3B61B0">scale</span><span style="--0:#D6DEEB;--1:#403F53">(self, Real s) @</span><span style="--0:#82AAFF;--1:#3B61B0">operator_s</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C792EA;--1:#8844AE">*</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> { .v </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">self</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#7FDBCA;--1:#096E72">v</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">*</span><span style="--0:#D6DEEB;--1:#403F53"> s };</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="// This defines &#x22;Quaternion * Real&#x22; /and/ &#x22;Real * Quaternion&#x22;macro Quaternion Quaternion.scale(self, Real s) @operator_s(*){    return { .v = self.v * s };}"><div></div></button></div></figure></div>
<p>Overloading with the <code dir="auto">@operator_r</code> reverse overload attribute:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="c3"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5D6376">// This defines "Real / Complex"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">macro Complex </span><span style="--0:#C5E478;--1:#3B61B0">Complex</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3B61B0">div_real_inverse</span><span style="--0:#D6DEEB;--1:#403F53">(Complex c, Real r) @</span><span style="--0:#82AAFF;--1:#3B61B0">operator_r</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C792EA;--1:#8844AE">/</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> ((Complex) { .r </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> self }).</span><span style="--0:#82AAFF;--1:#3B61B0">div</span><span style="--0:#D6DEEB;--1:#403F53">(c);</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="// This defines &#x22;Real / Complex&#x22;macro Complex Complex.div_real_inverse(Complex c, Real r) @operator_r(/){    return ((Complex) { .r = self }).div(c);}"><div></div></button></div></figure></div>
<h3 id="more-static-checking">More static checking</h3>
<p>An important step towards correctness is that <code dir="auto">@require</code> contracts for
functions are now inlined at the caller site in safe mode. This has always
been a thing for macros, but now this works for functions as well.</p>
<p>This means simple errors can be caught by the compiler, such as using a null
pointer where it wasn’t allowed or passing a zero where the argument:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="c3"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">&#x3C;*</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53"> </span></span><span style="--0:#D6DEEB;--1:#403F53">@require a </span><span style="--0:#C792EA;--1:#8844AE">></span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">0</span><span style="--0:#D6DEEB;--1:#403F53"> : </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">The parameter cannot be zero</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">*></span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">fn </span><span style="--0:#C792EA;--1:#8844AE">void</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">test</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C792EA;--1:#8844AE">int</span><span style="--0:#D6DEEB;--1:#403F53"> a)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">{ ... }</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">fn </span><span style="--0:#C792EA;--1:#8844AE">void</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">main</span><span style="--0:#D6DEEB;--1:#403F53">()</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#919F9F;--1:#5D6376">    </span></span><span style="--0:#919F9F;--1:#5D6376">// Compile time error: contract violation</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#919F9F;--1:#5D6376">    </span></span><span style="--0:#919F9F;--1:#5D6376">// "The parameter cannot be zero"</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#82AAFF;--1:#3B61B0">test</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#F78C6C;--1:#AA0982">0</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="<* @require a > 0 : &#x22;The parameter cannot be zero&#x22;*>fn void test(int a){ ... }fn void main(){    // Compile time error: contract violation    // &#x22;The parameter cannot be zero&#x22;    test(0);}"><div></div></button></div></figure></div>
<p>This is just the start. C3 will increasingly use more static analysis to check correctness at compile time.</p>
<h3 id="improvements-to-attributes">Improvements to attributes</h3>
<p><code dir="auto">@if</code> attributes now work on locals and aliases defined using <code dir="auto">alias</code> can now be <code dir="auto">@deprecated</code>.</p>
<h3 id="enum-lookup">Enum lookup</h3>
<p>0.6.9 and 0.7.0 introduced ways to let an enum convert to its associated value:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="c3"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">enum</span><span style="--0:#D6DEEB;--1:#403F53"> Foo : (</span><span style="--0:#C792EA;--1:#8844AE">inline</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">int</span><span style="--0:#D6DEEB;--1:#403F53"> val)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3B61B0">ABC</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">3</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3B61B0">LIFF</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">42</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">fn </span><span style="--0:#C792EA;--1:#8844AE">void</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">main</span><span style="--0:#D6DEEB;--1:#403F53">()</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">int</span><span style="--0:#D6DEEB;--1:#403F53"> val </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">Foo</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#7FDBCA;--1:#096E72">LIFF</span><span style="--0:#D6DEEB;--1:#403F53">;</span><span style="--0:#919F9F;--1:#5D6376"> // Same as Foo.LIFF.val</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="enum Foo : (inline int val){    ABC = 3,    LIFF = 42}fn void main(){    int val = Foo.LIFF; // Same as Foo.LIFF.val}"><div></div></button></div></figure></div>
<p>Still, converting <em>from</em> such a associated value <em>to</em> an enum used the rather unknown <code dir="auto">@enum_from_value</code> macro.</p>
<p>To make this more convenient, enums gain two new type functions <code dir="auto">.lookup</code> and <code dir="auto">.lookup_field</code>:</p>
<ul>
<li><code dir="auto">lookup(value)</code> lookup an enum by inlined value.</li>
<li><code dir="auto">lookup_field(field_name, value)</code> lookup an enum by associated value.</li>
</ul>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="c3"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">fn </span><span style="--0:#C792EA;--1:#8844AE">void</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">main</span><span style="--0:#D6DEEB;--1:#403F53">()</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">Foo</span><span style="--0:#C792EA;--1:#8844AE">?</span><span style="--0:#D6DEEB;--1:#403F53"> foo </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">Foo</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3B61B0">lookup</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#F78C6C;--1:#AA0982">42</span><span style="--0:#D6DEEB;--1:#403F53">);</span><span style="--0:#919F9F;--1:#5D6376">            // Returns Foo.LIFF</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">Foo</span><span style="--0:#C792EA;--1:#8844AE">?</span><span style="--0:#D6DEEB;--1:#403F53"> foo2 </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">Foo</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3B61B0">lookup_field</span><span style="--0:#D6DEEB;--1:#403F53">(val, </span><span style="--0:#F78C6C;--1:#AA0982">3</span><span style="--0:#D6DEEB;--1:#403F53">);</span><span style="--0:#919F9F;--1:#5D6376"> // Returns Foo.ABC</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">Foo</span><span style="--0:#C792EA;--1:#8844AE">?</span><span style="--0:#D6DEEB;--1:#403F53"> foo3 </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">Foo</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3B61B0">lookup_field</span><span style="--0:#D6DEEB;--1:#403F53">(val, </span><span style="--0:#F78C6C;--1:#AA0982">1</span><span style="--0:#D6DEEB;--1:#403F53">);</span><span style="--0:#919F9F;--1:#5D6376"> // Returns NO_FOUND?</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="fn void main(){    Foo? foo = Foo.lookup(42);            // Returns Foo.LIFF    Foo? foo2 = Foo.lookup_field(val, 3); // Returns Foo.ABC    Foo? foo3 = Foo.lookup_field(val, 1); // Returns NO_FOUND?}"><div></div></button></div></figure></div>
<h3 id="other-changes">Other changes</h3>
<ul>
<li><code dir="auto">String str = ""</code> was not guaranteed to return a pointer to a null terminated empty string, unlike <code dir="auto">ZString str = ""</code>. This was a little inconsistent, so both return the same thing now.</li>
<li>Slice assignment <code dir="auto">foo[..] = bar</code> would sometimes mean copying the right hand side to each element of <code dir="auto">foo</code> and sometimes it meant a slice copy. Now semantics have been tightened: <code dir="auto">foo[..] = bar</code> assigns to each element and <code dir="auto">foo[..] = bar[..]</code> is a copy.</li>
<li><code dir="auto">c3c build</code> now picks the first target rather than the first executable.</li>
<li>Finally the Win32 thread implementation has been improved.</li>
</ul>
<h2 id="whats-next">What’s next?</h2>
<p>Following this release, the focus will be on improving the standard library organization. New guidelines for submitting modules have been adopted to ensure that the implementation can be worked on without having to be tied to a pull request. Right now an <a href="https://github.com/m0tholith/c3math">updated matrix library</a> is actively worked on.</p>
<p>There is also a <a href="https://github.com/c3lang/c3-showcase">new repo for uncurated C3 resources</a>, where anyone can be showcased: So if you have a project you want to share – do file a pull request.</p>
<h3 id="change-log">Change Log</h3>
<details>
	<summary class="text-black dark:text-white font-medium text-lg">
		Click for full change log
	</summary>
<h3 id="changes--improvements">Changes / improvements</h3>
<ul>
<li>Better errors on some common casting mistakes (pointer->slice, String->ZString, deref pointer->array) #2064.</li>
<li>Better errors trying to convert an enum to an int and vice versa.</li>
<li>Function <code dir="auto">@require</code> checks are added to the caller in safe mode. #186</li>
<li>Improved error message when narrowing isn’t allowed.</li>
<li>Operator overloading for <code dir="auto">+ - * / % &#x26; | ^ &#x3C;&#x3C; >> ~ == != += -= *= /= %= &#x26;= |= ^= &#x3C;&#x3C;= >>=</code></li>
<li>Add <code dir="auto">@operator_r</code> and <code dir="auto">@operator_s</code> attributes.</li>
<li>More stdlib tests: <code dir="auto">sincos</code>, <code dir="auto">ArenaAllocator</code>, <code dir="auto">Slice2d</code>.</li>
<li>Make aliases able to use <code dir="auto">@deprecated</code>.</li>
<li>Refactored stdlib file organization.</li>
<li>Allow <code dir="auto">@if</code> on locals.</li>
<li>String str = "" is now guaranteed to be null terminated. #2083</li>
<li>Improved error messages on <code dir="auto">Foo { 3, abc }</code> #2099.</li>
<li><code dir="auto">Foo[1..2] = { .baz = 123 }</code> inference now works. #2095</li>
<li>Deprecated old inference with slice copy. Copying must now ensure a slicing operator at the end of the right hand side: <code dir="auto">foo[1..2] = bar[..]</code> rather than the old <code dir="auto">foo[1..2] = bar</code>. The old behaviour can be mostly retained with <code dir="auto">--use-old-slice-copy</code>).</li>
<li>Added <code dir="auto">Enum.lookup</code> and <code dir="auto">Enum.lookup_field</code>.</li>
<li><code dir="auto">c3c build</code> picks first target rather than the first executable #2105.</li>
<li>New Win32 Mutex, ConditionVariable and OnceFlag implementation</li>
</ul>
<h3 id="fixes">Fixes</h3>
<ul>
<li>Trying to cast an enum to int and back caused the compiler to crash.</li>
<li>Incorrect rounding at compile time going from double to int.</li>
<li>Regression with invalid setup of the WASM temp allocator.</li>
<li>Correctly detect multiple overloads of the same type.</li>
<li>ABI bug on x64 Linux / MacOS when passing a union containing a struct of 3 floats. #2087</li>
<li>Bug with slice acces as inline struct member #2088.</li>
<li><code dir="auto">@if</code> now does implicit conversion to bool like <code dir="auto">$if</code>. #2086</li>
<li>Fix broken enum inline -> bool conversions #2094.</li>
<li><code dir="auto">@if</code> was ignored on attrdef, regression 0.7 #2093.</li>
<li><code dir="auto">@ensure</code> was not included when the function doesn’t return a value #2098.</li>
<li>Added missing <code dir="auto">@clone_aligned</code> and add checks to <code dir="auto">@tclone</code></li>
<li>Comparing a distinct type with an enum with an inline distinct type failed unexpectedly.</li>
<li>The <code dir="auto">%s</code> would not properly print function pointers.</li>
<li>Compiler crash when passing an untyped list as an argument to <code dir="auto">assert</code> #2108.</li>
<li><code dir="auto">@ensure</code> should be allowed to read “out” variables. #2107</li>
<li>Error message for casting generic to incompatible type does not work properly with nested generics #1953</li>
<li>Fixed enum regression after 0.7.0 enum change.</li>
<li>ConditionVariable now properly works on Win32</li>
</ul>
<h3 id="stdlib-changes">Stdlib changes</h3>
<ul>
<li>Hash functions for integer vectors and arrays.</li>
<li>Prefer <code dir="auto">math::I</code> and <code dir="auto">math::I_F</code> for <code dir="auto">math::IMAGINARY</code> and <code dir="auto">math::IMAGINARYF</code> the latter is deprecated.</li>
<li>Add <code dir="auto">array::contains</code> to check for a value in an array or slice.</li>
</ul>
</details>
<h3 id="want-to-dive-into-c3">Want To Dive Into C3?</h3>
<p>Check out the <a href="/getting-started">documentation</a>
or <a href="/getting-started/prebuilt-binaries">download it and try it out</a></p>
<p>Have questions? Come and chat to us on <a href="https://discord.gg/qN76R87">Discord</a>.</p>  <!-- Markdown will be inserted here --> </div> </div> </div> </div> <!-- End of main content --> <!-- Sidebar on desktop --> <!-- Bottom on small/mobile --> <div class="
					block 
					lg:mt-68
					px-6
					lg:pl-16
					mb-20
					lg:mb-0
					"> <h2 class="
						text-[var(--sl-color-gray-1)]
						mb-4
						font-semibold
						lg:font-medium
						text-3xl
						lg:text-xl
						lg:pl-4
					">
Blog Archive
</h2> <div class="
							hover:bg-slate-100
							hover:dark:bg-slate-800
							py-2
							px-4
							my-2
						"> <a class="
								text-[var(--sl-color-text-accent)]
								text-justify
								" href="/blog/a-new-memory-management-paradigm"> <div class="
									flex
									flex-col
									text-[var(--sl-color-gray-1)]
									lg:text-xs
									
								"> <h4 class="
										"> A New Memory Management Paradigm </h4> <p class=""> 2025-06-12 </p> </div> </a> </div><div class="
							hover:bg-slate-100
							hover:dark:bg-slate-800
							py-2
							px-4
							my-2
						"> <a class="
								text-[var(--sl-color-text-accent)]
								text-justify
								" href="/blog/c3-0-7-2-quality-of-life"> <div class="
									flex
									flex-col
									text-[var(--sl-color-gray-1)]
									lg:text-xs
									
								"> <h4 class="
										"> C3 0.7.2 - Quality Of Life </h4> <p class=""> 2025-06-02 </p> </div> </a> </div><div class="
							hover:bg-slate-100
							hover:dark:bg-slate-800
							py-2
							px-4
							my-2
						"> <a class="
								text-[var(--sl-color-text-accent)]
								text-justify
								" href="/blog/c3-0-7-0-one-step-closer-to-1-0"> <div class="
									flex
									flex-col
									text-[var(--sl-color-gray-1)]
									lg:text-xs
									
								"> <h4 class="
										"> C3 0.7.0 - One Step Closer To 1.0 </h4> <p class=""> 2025-03-30 </p> </div> </a> </div> </div> <!-- End of Sidebar --> </div> <!-- End of page grid layout for sidebar and main --> </div> </div> </body>