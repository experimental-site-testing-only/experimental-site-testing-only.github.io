import { c as createComponent, r as renderTemplate, m as maybeRenderHead, u as unescapeHTML } from './astro/server_afRpe8AA.mjs';
import 'kleur/colors';
import 'clsx';

const html = "<p><em>Note, the library system is in early alpha, everything below is subject to change</em></p>\n<p>C3 allows convenient packaging of C3 source files optionally with  statically or dynamically linked libraries.\nTo use such a library, simply pass the path to the library directory and add the library you wish to link to.\nThe compiler will resolve any dependencies to other libraries and only compile those that are in use.</p>\n<h2 id=\"how-it-works\">How it works</h2>\n<p>A library may be used either packaged or unpacked. If unpacked, it is simply a directory with the <code dir=\"auto\">.c3l</code>\nsuffix, which contains all the necessary files, if packed, this is simply a compressed variant of\na directory with the same structure.</p>\n<h3 id=\"the-specification\">The specification</h3>\n<p>In the top of the library resides the <code dir=\"auto\">manifest.json</code> file which has the following structure:</p>\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.j8ofn.css\"><script type=\"module\" src=\"/_astro/ec.8zarh.js\"></script><figure class=\"frame not-content\"><figcaption class=\"header\"></figcaption><pre data-language=\"json\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D6DEEB;--1:#403F53\">{</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#7FDBCA;--1:#097174\">\"provides\"</span><span style=\"--0:#D6DEEB;--1:#403F53\"> : </span><span style=\"--0:#D9F5DD;--1:#111111\">\"</span><span style=\"--0:#C789D6;--1:#7F5889\">my_lib</span><span style=\"--0:#D9F5DD;--1:#111111\">\"</span><span style=\"--0:#D6DEEB;--1:#403F53\">,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#7FDBCA;--1:#097174\">\"execs\"</span><span style=\"--0:#D6DEEB;--1:#403F53\"> : [],</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#7FDBCA;--1:#097174\">\"targets\"</span><span style=\"--0:#D6DEEB;--1:#403F53\"> : {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#7FDBCA;--1:#097174\">\"macos-x64\"</span><span style=\"--0:#D6DEEB;--1:#403F53\"> : {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#7FDBCA;--1:#097174\">\"linkflags\"</span><span style=\"--0:#D6DEEB;--1:#403F53\"> : [],</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#7FDBCA;--1:#097174\">\"dependencies\"</span><span style=\"--0:#D6DEEB;--1:#403F53\"> : [],</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#7FDBCA;--1:#097174\">\"linked-libs\"</span><span style=\"--0:#D6DEEB;--1:#403F53\"> : [</span><span style=\"--0:#D9F5DD;--1:#111111\">\"</span><span style=\"--0:#C789D6;--1:#7F5889\">my_lib_static</span><span style=\"--0:#D9F5DD;--1:#111111\">\"</span><span style=\"--0:#D6DEEB;--1:#403F53\">, </span><span style=\"--0:#D9F5DD;--1:#111111\">\"</span><span style=\"--0:#C789D6;--1:#7F5889\">Cocoa.framework</span><span style=\"--0:#D9F5DD;--1:#111111\">\"</span><span style=\"--0:#D6DEEB;--1:#403F53\">, </span><span style=\"--0:#D9F5DD;--1:#111111\">\"</span><span style=\"--0:#C789D6;--1:#7F5889\">c</span><span style=\"--0:#D9F5DD;--1:#111111\">\"</span><span style=\"--0:#D6DEEB;--1:#403F53\">]</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D6DEEB;--1:#403F53\">    </span></span><span style=\"--0:#D6DEEB;--1:#403F53\">},</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#7FDBCA;--1:#097174\">\"windows-x64\"</span><span style=\"--0:#D6DEEB;--1:#403F53\"> : {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#7FDBCA;--1:#097174\">\"linkflags\"</span><span style=\"--0:#D6DEEB;--1:#403F53\"> : [</span><span style=\"--0:#D9F5DD;--1:#111111\">\"</span><span style=\"--0:#C789D6;--1:#7F5889\">/stack:65536</span><span style=\"--0:#D9F5DD;--1:#111111\">\"</span><span style=\"--0:#D6DEEB;--1:#403F53\">],</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#7FDBCA;--1:#097174\">\"dependencies\"</span><span style=\"--0:#D6DEEB;--1:#403F53\"> : [</span><span style=\"--0:#D9F5DD;--1:#111111\">\"</span><span style=\"--0:#C789D6;--1:#7F5889\">ms_my_extra</span><span style=\"--0:#D9F5DD;--1:#111111\">\"</span><span style=\"--0:#D6DEEB;--1:#403F53\">],</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#7FDBCA;--1:#097174\">\"linked-libs\"</span><span style=\"--0:#D6DEEB;--1:#403F53\"> : [</span><span style=\"--0:#D9F5DD;--1:#111111\">\"</span><span style=\"--0:#C789D6;--1:#7F5889\">my_lib_static</span><span style=\"--0:#D9F5DD;--1:#111111\">\"</span><span style=\"--0:#D6DEEB;--1:#403F53\">, </span><span style=\"--0:#D9F5DD;--1:#111111\">\"</span><span style=\"--0:#C789D6;--1:#7F5889\">kernel32</span><span style=\"--0:#D9F5DD;--1:#111111\">\"</span><span style=\"--0:#D6DEEB;--1:#403F53\">],</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#7FDBCA;--1:#097174\">\"execs\"</span><span style=\"--0:#D6DEEB;--1:#403F53\"> : [],</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D6DEEB;--1:#403F53\">    </span></span><span style=\"--0:#D6DEEB;--1:#403F53\">}</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D6DEEB;--1:#403F53\">  </span></span><span style=\"--0:#D6DEEB;--1:#403F53\">}</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D6DEEB;--1:#403F53\">}</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"{  &#x22;provides&#x22; : &#x22;my_lib&#x22;,  &#x22;execs&#x22; : [],  &#x22;targets&#x22; : {    &#x22;macos-x64&#x22; : {      &#x22;linkflags&#x22; : [],      &#x22;dependencies&#x22; : [],      &#x22;linked-libs&#x22; : [&#x22;my_lib_static&#x22;, &#x22;Cocoa.framework&#x22;, &#x22;c&#x22;]    },    &#x22;windows-x64&#x22; : {      &#x22;linkflags&#x22; : [&#x22;/stack:65536&#x22;],      &#x22;dependencies&#x22; : [&#x22;ms_my_extra&#x22;],      &#x22;linked-libs&#x22; : [&#x22;my_lib_static&#x22;, &#x22;kernel32&#x22;],      &#x22;execs&#x22; : [],    }  }}\"><div></div></button></div></figure></div>\n<p>In the example here, this library supports two targets: <strong>macos-x64</strong> and <strong>windows-x64</strong>. If\nwe tried to use it with any other target, the compiler would give an error.</p>\n<p>We see that if we use the <strong>windows-x64</strong> target it will also load the <strong>ms_my_extra</strong> library. And\nwe also see that the linker would have a special argument on that platform.</p>\n<p>Both targets expect <code dir=\"auto\">my_lib_static</code> to be available for linking. If this library provides this\nor dynamic library it will be in the target sub-directories, so it likely has the path\n<code dir=\"auto\">windows-x64/my_lib_static.lib</code> and <code dir=\"auto\">macos-z64/libmy_lib_static.a</code>.</p>\n<h3 id=\"source-code\">Source code</h3>\n<p>Aside from the manifest, C3 will read any C and C3 files in the same directory as <code dir=\"auto\">manifest.json</code>\nas well as any files in the target subdirectory for the current target. For static libraries\ntypically a <code dir=\"auto\">.c3i</code> file (that is, a C3 file without any implementations) is provided, similar to\nhow .h files are used in C.</p>\n<h3 id=\"additional-actions\">Additional actions</h3>\n<p><code dir=\"auto\">\"exec\"</code>, which is available both at the top level and per-target, lists the scripts which will be\ninvoked when a library is used. This requires running the compiler at <strong>full trust level</strong> using the\n<code dir=\"auto\">--trust=full</code> option.</p>\n<h2 id=\"how-to--automatically--export-libraries\">How to – automatically – export libraries</h2>\n<p><em>This is not implemented yet, docs will materialize once it is finished</em></p>";

				const frontmatter = {"title":"Library Packaging","description":"Library Packaging","sidebar":{"order":227}};
				const file = "/home/josh/git/c3_tests/experimental-site-testing-only__local_changes/src/content/docs/Previous Versions/v0_6_8/Misc Advanced/library-packaging.md";
				const url = undefined;
				function rawContent() {
					return "\n*Note, the library system is in early alpha, everything below is subject to change*\n\nC3 allows convenient packaging of C3 source files optionally with  statically or dynamically linked libraries.\nTo use such a library, simply pass the path to the library directory and add the library you wish to link to.\nThe compiler will resolve any dependencies to other libraries and only compile those that are in use.\n\n## How it works\n\nA library may be used either packaged or unpacked. If unpacked, it is simply a directory with the `.c3l`\nsuffix, which contains all the necessary files, if packed, this is simply a compressed variant of \na directory with the same structure.\n\n### The specification\n\nIn the top of the library resides the `manifest.json` file which has the following structure:\n\n```json\n{\n  \"provides\" : \"my_lib\",\n  \"execs\" : [],\n  \"targets\" : {\n    \"macos-x64\" : {\n      \"linkflags\" : [],\n      \"dependencies\" : [],\n      \"linked-libs\" : [\"my_lib_static\", \"Cocoa.framework\", \"c\"]\n    },\n    \"windows-x64\" : {\n      \"linkflags\" : [\"/stack:65536\"],\n      \"dependencies\" : [\"ms_my_extra\"],\n      \"linked-libs\" : [\"my_lib_static\", \"kernel32\"],\n      \"execs\" : [],\n    }\n  }\n}\n```\n\nIn the example here, this library supports two targets: **macos-x64** and **windows-x64**. If \nwe tried to use it with any other target, the compiler would give an error.\n\nWe see that if we use the **windows-x64** target it will also load the **ms_my_extra** library. And\nwe also see that the linker would have a special argument on that platform.\n\nBoth targets expect `my_lib_static` to be available for linking. If this library provides this\nor dynamic library it will be in the target sub-directories, so it likely has the path \n`windows-x64/my_lib_static.lib` and `macos-z64/libmy_lib_static.a`.\n\n### Source code\n\nAside from the manifest, C3 will read any C and C3 files in the same directory as `manifest.json`\nas well as any files in the target subdirectory for the current target. For static libraries\ntypically a `.c3i` file (that is, a C3 file without any implementations) is provided, similar to\nhow .h files are used in C.\n\n### Additional actions\n\n`\"exec\"`, which is available both at the top level and per-target, lists the scripts which will be\ninvoked when a library is used. This requires running the compiler at **full trust level** using the \n`--trust=full` option.\n\n## How to – automatically – export libraries\n\n*This is not implemented yet, docs will materialize once it is finished*\n\n";
				}
				function compiledContent() {
					return html;
				}
				function getHeadings() {
					return [{"depth":2,"slug":"how-it-works","text":"How it works"},{"depth":3,"slug":"the-specification","text":"The specification"},{"depth":3,"slug":"source-code","text":"Source code"},{"depth":3,"slug":"additional-actions","text":"Additional actions"},{"depth":2,"slug":"how-to--automatically--export-libraries","text":"How to – automatically – export libraries"}];
				}

				const Content = createComponent((result, _props, slots) => {
					const { layout, ...content } = frontmatter;
					content.file = file;
					content.url = url;

					return renderTemplate`${maybeRenderHead()}${unescapeHTML(html)}`;
				});

export { Content, compiledContent, Content as default, file, frontmatter, getHeadings, rawContent, url };
